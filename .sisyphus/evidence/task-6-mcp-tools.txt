bun vitest test/mcp-tools.test.ts --reporter=verbose

RUN  v3.2.4 /home/chase/mnemonic

✓ test/mcp-tools.test.ts > mcp tools > inject_trace returns candidates, metadata, and injected results
✓ test/mcp-tools.test.ts > mcp tools > query returns matching learnings and per-scope hits
✓ test/mcp-tools.test.ts > mcp tools > forget deletes a learning and list no longer includes it
✓ test/mcp-tools.test.ts > mcp tools > forget_bulk deletes low-confidence learnings by scope
✓ test/mcp-tools.test.ts > mcp tools > learning_neighbors returns at least one neighbor with similarity_score
✓ test/mcp-tools.test.ts > mcp tools > list returns learnings for a scope
✓ test/mcp-tools.test.ts > mcp tools > stats returns totals and scope data
✓ test/mcp-tools.test.ts > mcp tools > state_put stores state and starts at revision 1
✓ test/mcp-tools.test.ts > mcp tools > state_get returns the stored goal
✓ test/mcp-tools.test.ts > mcp tools > state_patch updates state and increments revision
✓ test/mcp-tools.test.ts > mcp tools > state_resolve resolves run and can persist learning
✓ test/mcp-tools.test.ts > mcp error handling > invalid JSON-RPC version returns -32600
✓ test/mcp-tools.test.ts > mcp error handling > unknown method returns -32601
✓ test/mcp-tools.test.ts > mcp error handling > unknown tool name returns tool error
✓ test/mcp-tools.test.ts > mcp error handling > missing tool name returns tool error
✓ test/mcp-tools.test.ts > mcp protocol > notifications/initialized returns 204
✓ test/mcp-tools.test.ts > mcp protocol > GET /mcp returns info and all 13 tools

Test Files  1 passed (1)
Tests  17 passed (17)
Duration  1.42s
